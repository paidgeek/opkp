<div ng-controller="graphs">

   <div class="row">
      <div class="col-md-12">
         <div class="panel panel-default">
            <form class="panel-body form-horizontal">
               <h4>Tables</h4>

               <div class="row voffset-1" ng-repeat="i in range(pathLength) track by $index">
                  <div class="col-md-3">
                     <select class="form-control" ng-model="selection[i]" ng-change="selectNode(i, selection[i])">
                        <option ng-repeat="node in getSteps(i - 1) track by $index" value="{{node}}">{{node}}</option>
                     </select>
                  </div>
                  <div class="col-md-2 form-inline">
                     <button ng-if="getSteps(i).length != 0 && i == pathLength - 1" type="button" class="btn btn-primary form-control" ng-click="addNode()">+</button>
                     <button ng-if="i > 0" type="button" class="btn btn-danger form-control" ng-click="removeNode(i)">-</button>
                  </div>
               </div>

               <h4>Columns</h4>
               <div ng-repeat="i in range(pathLength) track by $index" ng-if="dataGraph.definitions[path[i]]">
                  {{path[i]}}
                  <am-multiselect class="input-lg" multiple="true" ms-selected="There are {{selectedColumns[i].length}} columns selected" ng-model="selectedColumns[i]" ms-header="Select columns" options="col for col in getColumns($index)" change="selected()"></am-multiselect>
               </div>

               <h4>Conditions</h4>

               <button type="button" class="btn btn-default" ng-click="update()">Update</button>

            </form>
         </div>
      </div>
   </div>
   <div class="row">
      <div class="col-md-12">
         {{responseData}}
      </div>
   </div>

</div>
